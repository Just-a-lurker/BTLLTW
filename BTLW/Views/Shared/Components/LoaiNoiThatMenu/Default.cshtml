@model IEnumerable<TheLoai>
<div class="shop_widget_list categories">
    <div class="shop_widget_title categories_title">
        <h3>Categories</h3>
    </div>
    <div class="widget_categories">
        <ul>
            @foreach(var item in Model)
            {
                var getUrl = "https://localhost:7005/api/productapi/" + item.Maloai;
                <li><a style="cursor: pointer" onclick="showProductByCategory ('@getUrl')">@item.Tenloai</a></li>
                @* <li><a asp-controller="Main" asp-action="ShopTheoLoai" asp-route-maLoai="@item.Maloai">@item.Tenloai</a></li> *@
            }
        </ul>
    </div>
</div>
<script>
    function showProductByCategory(getUrl) {
        var str = '';
        $.ajax({
            type: 'GET',
            url: getUrl,
            dataType: 'json',
            success: function (data) {
                $.each(data, function (key, val) {
                    str += '<div class="shop_gallery" >';
                    str += '<div class="row" >';
                    str += '<div class="col-lg-3 col-md-4 col-sm-6" >';
                    str += '<article class="single_product wow fadeInUp" data - wow - delay="0.1s" data - wow - duration="1.1s" style = "visibility: visible; animation-duration: 1.1s; animation-delay: 0.1s; animation-name: fadeInUp;" >';
                    str += '<figure>';
                    str += '<div class="product_thumb" >';
                    str += '<a href="single-product.html" >';
                    var linkImage = "../Image_Furniture/" + $.trim(val.anh);
                    str += '<img src=\"';
                    str += linkImage;
                    str += '\" alt = "" >';
                    str += '</a>';
                    str += '</div>';
                    str += '<figcaption class="product_content" >';
                    str += '<h4>';
                    str += '<a href=\"';
                    str += $.trim(val.maNoiThat);
                    str += '\" >';
                    str += $.trim(val.tenNoiThat);
                    str += '</a>';
                    str += '</h4>';
                    str += '<div class="price_box" >';
                    str += '<span class="current_price" >'; 
                    str += $.trim(val.donGiaBan);
                    str += '</span>';
                    str += '</div>';
                    str += '</figcaption>';
                    str += '</figure>';
                    str += '</article>';
                    str += '</div>';
                    str += '</div>';
                    str += '</div>';
                    // str += '<p>' + val.tenNoiThat + '</p>'
                });
                $('#displayProducts').html(str);
            },
            Error: function (xhr) {
                alert(xhr.responseText)
            }
        });
    }
</script>